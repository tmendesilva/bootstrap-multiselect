var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(b,g,k){b instanceof String&&(b=String(b));for(var l=b.length,a=0;a<l;a++){var c=b[a];if(g.call(k,c,a,b))return{i:a,v:c}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,g,k){b!=Array.prototype&&b!=Object.prototype&&(b[g]=k.value)};
$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(b,g,k,l){if(g){k=$jscomp.global;b=b.split(".");for(l=0;l<b.length-1;l++){var a=b[l];a in k||(k[a]={});k=k[a]}b=b[b.length-1];l=k[b];g=g(l);g!=l&&null!=g&&$jscomp.defineProperty(k,b,{configurable:!0,writable:!0,value:g})}};
$jscomp.polyfill("Array.prototype.find",function(b){return b?b:function(b,k){return $jscomp.findInternal(this,b,k).v}},"es6","es3");
(function(b,g){"function"===typeof define&&define.amd&&"function"===typeof require&&"function"===typeof require.specified&&require.specified("knockout")?define(["jquery","knockout"],g):g(b.jQuery,b.ko)})(this,function(b,g){function k(a,b){for(var c=0;c<a.length;++c)b(a[c],c)}function l(a,c){this.$select=b(a);this.options=this.mergeOptions(b.extend({},c,this.$select.data()));this.$select.attr("data-placeholder")&&(this.options.nonSelectedText=this.$select.data("placeholder"));this.originalOptions=
this.$select.clone()[0].options;this.query="";this.lastToggledInput=this.searchTimeout=null;this.multiselectId=this.generateUniqueId()+"_0";this.internalIdCount=0;this.options.multiple="multiple"===this.$select.attr("multiple");this.options.onChange=b.proxy(this.options.onChange,this);this.options.onSelectAll=b.proxy(this.options.onSelectAll,this);this.options.onDeselectAll=b.proxy(this.options.onDeselectAll,this);this.options.onDropdownShow=b.proxy(this.options.onDropdownShow,this);this.options.onDropdownHide=
b.proxy(this.options.onDropdownHide,this);this.options.onDropdownShown=b.proxy(this.options.onDropdownShown,this);this.options.onDropdownHidden=b.proxy(this.options.onDropdownHidden,this);this.options.onInitialized=b.proxy(this.options.onInitialized,this);this.options.onFiltering=b.proxy(this.options.onFiltering,this);this.buildContainer();this.buildButton();this.buildDropdown();this.buildReset();this.buildSelectAll();this.buildDropdownOptions();this.buildFilter();this.buildButtons();this.updateButtonText();
this.updateSelectAll(!0);this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups();this.options.wasDisabled=this.$select.prop("disabled");this.options.disableIfEmpty&&0>=b("option",this.$select).length&&!this.options.wasDisabled&&this.disable(!0);this.$select.wrap('<span class="multiselect-native-select" />').after(this.$container);this.$select.prop("tabindex","-1");"never"!==this.options.widthSynchronizationMode&&this.synchronizeButtonAndPopupWidth();this.$select.data("multiselect",
this);this.options.onInitialized(this.$select,this.$container)}"undefined"!==typeof g&&g.bindingHandlers&&!g.bindingHandlers.multiselect&&(g.bindingHandlers.multiselect={after:["options","value","selectedOptions","enable","disable"],init:function(a,c,d,e,f){var h=b(a);c=g.toJS(c());h.multiselect(c);if(d.has("options")){var n=d.get("options");g.isObservable(n)&&g.computed({read:function(){n();setTimeout(function(){var a=h.data("multiselect");a&&a.updateOriginalOptions();h.multiselect("rebuild")},1)},
disposeWhenNodeIsRemoved:a})}if(d.has("value")){var q=d.get("value");g.isObservable(q)&&g.computed({read:function(){q();setTimeout(function(){h.multiselect("refresh")},1)},disposeWhenNodeIsRemoved:a}).extend({rateLimit:100,notifyWhenChangesStop:!0})}if(d.has("selectedOptions")){var m=d.get("selectedOptions");g.isObservable(m)&&g.computed({read:function(){m();setTimeout(function(){h.multiselect("refresh")},1)},disposeWhenNodeIsRemoved:a}).extend({rateLimit:100,notifyWhenChangesStop:!0})}var k=function(a){setTimeout(function(){a?
h.multiselect("enable"):h.multiselect("disable")})};if(d.has("enable")){var l=d.get("enable");g.isObservable(l)?g.computed({read:function(){k(l())},disposeWhenNodeIsRemoved:a}).extend({rateLimit:100,notifyWhenChangesStop:!0}):k(l)}if(d.has("disable")){var p=d.get("disable");g.isObservable(p)?g.computed({read:function(){k(!p())},disposeWhenNodeIsRemoved:a}).extend({rateLimit:100,notifyWhenChangesStop:!0}):k(!p)}g.utils.domNodeDisposal.addDisposeCallback(a,function(){h.multiselect("destroy")})},update:function(a,
c,d,e,f){a=b(a);c=g.toJS(c());a.multiselect("setOptions",c);a.multiselect("rebuild")}});l.prototype={defaults:{buttonText:function(a,c){if(0<this.disabledText.length&&c.prop("disabled"))return this.disabledText;if(0===a.length)return this.nonSelectedText;if(this.allSelectedText&&a.length===b("option",b(c)).length&&1!==b("option",b(c)).length&&this.multiple)return this.selectAllNumber?this.allSelectedText+" ("+a.length+")":this.allSelectedText;if(0!=this.numberDisplayed&&a.length>this.numberDisplayed)return a.length+
" "+this.nSelectedText;var d="",e=this.delimiterText;a.each(function(){var a=void 0!==b(this).attr("label")?b(this).attr("label"):b(this).text();d+=a+e});return d.substr(0,d.length-this.delimiterText.length)},buttonTitle:function(a,c){if(0===a.length)return this.nonSelectedText;var d="",e=this.delimiterText;a.each(function(){var a=void 0!==b(this).attr("label")?b(this).attr("label"):b(this).text();d+=a+e});return d.substr(0,d.length-this.delimiterText.length)},checkboxName:function(a){return!1},optionLabel:function(a){return b(a).attr("label")||
b(a).text()},optionClass:function(a){return b(a).attr("class")||""},onChange:function(a,b){},onDropdownShow:function(a){},onDropdownHide:function(a){},onDropdownShown:function(a){},onDropdownHidden:function(a){},onSelectAll:function(a){},onDeselectAll:function(a){},onInitialized:function(a,b){},onFiltering:function(a){},enableHTML:!1,buttonClass:"custom-select",inheritClass:!1,buttonWidth:"auto",buttonContainer:'<div class="btn-group" />',dropRight:!1,dropUp:!1,selectedClass:"active",maxHeight:null,
includeSelectAllOption:!1,includeSelectAllIfMoreThan:0,selectAllText:" Select all",selectAllValue:"multiselect-all",selectAllName:!1,selectAllNumber:!0,selectAllJustVisible:!0,enableFiltering:!1,enableCaseInsensitiveFiltering:!1,enableFullValueFiltering:!1,enableClickableOptGroups:!1,enableCollapsibleOptGroups:!1,collapseOptGroupsByDefault:!1,filterPlaceholder:"Search",filterBehavior:"text",includeFilterClearBtn:!0,preventInputChangeEvent:!1,nonSelectedText:"None selected",nSelectedText:"selected",
allSelectedText:"All selected",resetButtonText:"Reset",numberDisplayed:3,disableIfEmpty:!1,disabledText:"",delimiterText:", ",includeResetOption:!1,includeResetDivider:!1,resetText:"Reset",indentGroupOptions:!0,widthSynchronizationMode:"never",buttonTextAlignment:"center",enableResetButton:!1,templates:{button:'<button type="button" class="multiselect dropdown-toggle" data-toggle="dropdown"><span class="multiselect-selected-text"></span></button>',popupContainer:'<div class="multiselect-container dropdown-menu"></div>',
filter:'<div class="multiselect-filter d-flex align-items-center"><i class="fas fa-sm fa-search text-muted"></i><input type="search" class="multiselect-search form-control" /></div>',buttonGroup:'<div class="multiselect-buttons btn-group" style="display:flex;"></div>',buttonGroupReset:'<button type="button" class="multiselect-reset btn btn-secondary btn-block"></button>',option:'<button type="button" class="multiselect-option dropdown-item"></button>',divider:'<div class="dropdown-divider"></div>',
optionGroup:'<button type="button" class="multiselect-group dropdown-item"></button>',resetButton:'<div class="multiselect-reset text-center p-2"><button type="button" class="btn btn-sm btn-block btn-outline-secondary"></button></div>'}},constructor:l,buildContainer:function(){this.$container=b(this.options.buttonContainer);if("never"!==this.options.widthSynchronizationMode)this.$container.on("show.coreui.dropdown",b.proxy(function(){this.synchronizeButtonAndPopupWidth();this.options.onDropdownShow()},
this));else this.$container.on("show.coreui.dropdown",this.options.onDropdownShow);this.$container.on("hide.coreui.dropdown",this.options.onDropdownHide);this.$container.on("shown.coreui.dropdown",this.options.onDropdownShown);this.$container.on("hidden.coreui.dropdown",this.options.onDropdownHidden)},buildButton:function(){this.$button=b(this.options.templates.button).addClass(this.options.buttonClass);this.$select.attr("class")&&this.options.inheritClass&&this.$button.addClass(this.$select.attr("class"));
this.$select.prop("disabled")?this.disable():this.enable();this.options.buttonWidth&&"auto"!==this.options.buttonWidth&&(this.$button.css({width:"100%"}),this.$container.css({width:this.options.buttonWidth}));if(this.options.buttonTextAlignment)switch(this.options.buttonTextAlignment){case "left":this.$button.addClass("text-left");break;case "center":this.$button.addClass("text-center");break;case "right":this.$button.addClass("text-right")}var a=this.$select.attr("tabindex");a&&this.$button.attr("tabindex",
a);this.$container.prepend(this.$button)},buildDropdown:function(){this.$popupContainer=b(this.options.templates.popupContainer);this.options.dropRight?this.$container.addClass("dropright"):this.options.dropUp&&this.$container.addClass("dropup");this.options.maxHeight&&this.$popupContainer.css({"max-height":this.options.maxHeight+"px","overflow-y":"auto","overflow-x":"hidden"});"never"!==this.options.widthSynchronizationMode&&this.$popupContainer.css("overflow-x","hidden");this.$popupContainer.on("touchstart click",
function(a){a.stopPropagation()});this.$container.append(this.$popupContainer)},synchronizeButtonAndPopupWidth:function(){if(this.$popupContainer&&"never"!==this.options.widthSynchronizationMode){var a=this.$button.outerWidth();switch(this.options.widthSynchronizationMode){case "always":this.$popupContainer.css("min-width",a);this.$popupContainer.css("max-width",a);break;case "ifPopupIsSmaller":this.$popupContainer.css("min-width",a);break;case "ifPopupIsWider":this.$popupContainer.css("max-width",
a)}}},buildDropdownOptions:function(){this.$select.children().each(b.proxy(function(a,c){a=b(c);var d=a.prop("tagName").toLowerCase();a.prop("value")!==this.options.selectAllValue&&("optgroup"===d?this.createOptgroup(c):"option"===d&&("divider"===a.data("role")?this.createDivider():this.createOptionValue(c,!1)))},this));b(this.$popupContainer).off("change",'> *:not(.multiselect-group) input[type="checkbox"], > *:not(.multiselect-group) input[type="radio"]');b(this.$popupContainer).on("change",'> *:not(.multiselect-group) input[type="checkbox"], > *:not(.multiselect-group) input[type="radio"]',
b.proxy(function(a){var c=b(a.target);a=c.prop("checked")||!1;var d=c.val()===this.options.selectAllValue;this.options.selectedClass&&(a?c.closest(".multiselect-option").addClass(this.options.selectedClass):c.closest(".multiselect-option").removeClass(this.options.selectedClass));var e=c.attr("id");e=this.getOptionById(e);var f=b("option",this.$select).not(e);c=b("input",this.$container).not(c);d?a?this.selectAll(this.options.selectAllJustVisible,!0):this.deselectAll(this.options.selectAllJustVisible,
!0):(a?(e.prop("selected",!0),this.options.multiple?e.prop("selected",!0):(this.options.selectedClass&&b(c).closest(".dropdown-item").removeClass(this.options.selectedClass),b(c).prop("checked",!1),f.prop("selected",!1),this.$button.click()),"active"===this.options.selectedClass&&f.closest(".dropdown-item").css("outline","")):e.prop("selected",!1),this.options.onChange(e,a),this.updateSelectAll(),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups());this.$select.change();
this.updateButtonText();if(this.options.preventInputChangeEvent)return!1},this));b(".multiselect-option",this.$popupContainer).off("mousedown");b(".multiselect-option",this.$popupContainer).on("mousedown",function(a){if(a.shiftKey)return!1});b(this.$popupContainer).off("touchstart click",".multiselect-option, .multiselect-all, .multiselect-group");b(this.$popupContainer).on("touchstart click",".multiselect-option, .multiselect-all, .multiselect-group",b.proxy(function(a){a.stopPropagation();var c=
b(a.target);if(a.shiftKey&&this.options.multiple){c.is("input")||(a.preventDefault(),c=c.closest(".multiselect-option").find("input"),c.prop("checked",!c.prop("checked")));a=c.prop("checked")||!1;if(null!==this.lastToggledInput&&this.lastToggledInput!==c){var d=this.$popupContainer.find(".multiselect-option:visible").index(c.closest(".multiselect-option")),e=this.$popupContainer.find(".multiselect-option:visible").index(this.lastToggledInput.closest(".multiselect-option"));if(d>e){var f=e;e=d;d=f}++e;
e=this.$popupContainer.find(".multiselect-option:not(.multiselect-filter-hidden)").slice(d,e).find("input");e.prop("checked",a);this.options.selectedClass&&e.closest(".multiselect-option").toggleClass(this.options.selectedClass,a);f=0;for(var h=e.length;f<h;f++)d=b(e[f]),this.getOptionById(d.attr("id")).prop("selected",a)}c.trigger("change")}else if(!c.is("input")){d=c.closest(".multiselect-option, .multiselect-all").find(".form-check-input");if(0<d.length){if(this.options.multiple||!d.prop("checked"))d.prop("checked",
!d.prop("checked")),d.change()}else this.options.enableClickableOptGroups&&this.options.multiple&&!c.hasClass("caret-container")&&(d=c,d.hasClass("multiselect-group")||(d=c.closest(".multiselect-group")),d=d.find(".form-check-input"),0<d.length&&(d.prop("checked",!d.prop("checked")),d.change()));a.preventDefault()}0<c.closest(".multiselect-option").find("input[type='checkbox'], input[type='radio']").length?this.lastToggledInput=c:this.lastToggledInput=null;c.blur()},this));this.$container.off("keydown.multiselect").on("keydown.multiselect",
b.proxy(function(a){var c=b(this.$container).find(".multiselect-option:not(.disabled), .multiselect-group:not(.disabled), .multiselect-all").filter(":visible"),d=c.index(c.filter(":focus")),e=b(".multiselect-search",this.$container);if(9===a.keyCode&&this.$container.hasClass("show"))this.$button.click();else if(13==a.keyCode){var f=c.eq(d);setTimeout(function(){f.focus()},1)}else if(38==a.keyCode)0!=d||e.is(":focus")||setTimeout(function(){e.focus()},1);else if(40==a.keyCode)if(e.is(":focus")){var h=
c.eq(0);setTimeout(function(){e.blur();h.focus()},1)}else-1==d&&setTimeout(function(){e.focus()},1)},this));this.options.enableClickableOptGroups&&this.options.multiple&&(b(".multiselect-group input",this.$popupContainer).off("change"),b(".multiselect-group input",this.$popupContainer).on("change",b.proxy(function(a){a.stopPropagation();var c=b(a.target).prop("checked")||!1;a=b(a.target).closest(".dropdown-item");var d=a.nextUntil(".multiselect-group").not(".multiselect-filter-hidden").not(".disabled").find("input"),
e=[];this.options.selectedClass&&(c?a.addClass(this.options.selectedClass):a.removeClass(this.options.selectedClass));b.each(d,b.proxy(function(a,d){a=b(d);d=a.attr("id");d=this.getOptionById(d);c?(a.prop("checked",!0),a.closest(".dropdown-item").addClass(this.options.selectedClass),d.prop("selected",!0)):(a.prop("checked",!1),a.closest(".dropdown-item").removeClass(this.options.selectedClass),d.prop("selected",!1));e.push(d)},this));this.options.onChange(e,c);this.$select.change();this.updateButtonText();
this.updateSelectAll()},this)));this.options.enableCollapsibleOptGroups&&(b(".multiselect-group .caret-container",this.$popupContainer).off("click"),b(".multiselect-group .caret-container",this.$popupContainer).on("click",b.proxy(function(a){a=b(a.target).closest(".multiselect-group").nextUntil(".multiselect-group").not(".multiselect-filter-hidden");var c=!0;a.each(function(){c=c&&!b(this).hasClass("multiselect-collapsible-hidden")});c?a.hide().addClass("multiselect-collapsible-hidden"):a.show().removeClass("multiselect-collapsible-hidden")},
this)))},createCheckbox:function(a,c,d,e,f,h,n){var g=b("<span />");g.addClass("form-check");var m=b('<label class="form-check-label" />');this.options.enableHTML&&0<b(c).length?m.html(c):m.text(c);g.append(m);h=b('<input class="form-check-input"/>').attr("type",h);h.val(e);g.prepend(h);n&&(h.attr("id",n),m.attr("for",n));d&&h.attr("name",d);a.prepend(g);a.attr("title",f||c);return h},createOptionValue:function(a,c){var d=b(a);d.is(":selected")&&d.prop("selected",!0);var e=this.options.optionLabel(a),
f=this.options.optionClass(a),h=d.val(),n=this.options.multiple?"checkbox":"radio",g=d.attr("title"),m=b(this.options.templates.option);m.addClass(f);c&&this.options.indentGroupOptions&&m.addClass("multiselect-group-option-indented");this.options.collapseOptGroupsByDefault&&"optgroup"===b(a).parent().prop("tagName").toLowerCase()&&(m.addClass("multiselect-collapsible-hidden"),m.hide());a=this.options.checkboxName(d);c=this.createAndApplyUniqueId(d);e=this.createCheckbox(m,e,a,h,g,n,c);n=d.prop("selected")||
!1;h===this.options.selectAllValue&&(m.addClass("multiselect-all"),m.removeClass("multiselect-option"),e.parent().parent().addClass("multiselect-all"));this.$popupContainer.append(m);d.is(":disabled")&&e.attr("disabled","disabled").prop("disabled",!0).closest(".dropdown-item").addClass("disabled");e.prop("checked",n);n&&this.options.selectedClass&&e.closest(".dropdown-item").addClass(this.options.selectedClass)},createDivider:function(a){a=b(this.options.templates.divider);this.$popupContainer.append(a)},
createOptgroup:function(a){var c=b(a),d=c.attr("label"),e=c.attr("value"),f=c.attr("title"),h=b("<span class='multiselect-group dropdown-item-text'></span>");if(this.options.enableClickableOptGroups&&this.options.multiple){h=b(this.options.templates.optionGroup);var g=this.createAndApplyUniqueId(c);this.createCheckbox(h,d,null,e,f,"checkbox",g)}else this.options.enableHTML?h.html(" "+d):h.text(" "+d);d=this.options.optionClass(a);h.addClass(d);this.options.enableCollapsibleOptGroups&&(h.find(".form-check").addClass("d-inline-block"),
h.append('<span class="caret-container dropdown-toggle pl-1"></span>'));c.is(":disabled")&&h.addClass("disabled");this.$popupContainer.append(h);b("option",a).each(b.proxy(function(a,b){this.createOptionValue(b,!0)},this))},buildReset:function(){if(this.options.includeResetOption){if(this.options.includeResetDivider){var a=b(this.options.templates.divider);a.addClass("mt-0");this.$popupContainer.prepend(a)}a=b(this.options.templates.resetButton);this.options.enableHTML?b("button",a).html(this.options.resetText):
b("button",a).text(this.options.resetText);b("button",a).click(b.proxy(function(){this.clearSelection()},this));this.$popupContainer.prepend(a)}},buildSelectAll:function(){"number"===typeof this.options.selectAllValue&&(this.options.selectAllValue=this.options.selectAllValue.toString());if(!this.hasSelectAll()&&this.options.includeSelectAllOption&&this.options.multiple&&b("option",this.$select).length>this.options.includeSelectAllIfMoreThan){this.options.includeSelectAllDivider&&this.$popupContainer.prepend(b(this.options.templates.divider));
var a=b(this.options.templates.li||this.options.templates.option),c=this.createCheckbox(a,this.options.selectAllText,this.options.selectAllName,this.options.selectAllValue,this.options.selectAllText,"checkbox",this.createAndApplyUniqueId(null));a.addClass("multiselect-all");a.removeClass("multiselect-option");a.find(".form-check-label").addClass("font-weight-bold");this.$popupContainer.prepend(a);c.prop("checked",!1)}},buildFilter:function(){if(this.options.enableFiltering||this.options.enableCaseInsensitiveFiltering){var a=
Math.max(this.options.enableFiltering,this.options.enableCaseInsensitiveFiltering);this.$select.find("option").length>=a&&(this.$filter=b(this.options.templates.filter),b("input",this.$filter).attr("placeholder",this.options.filterPlaceholder),this.options.includeFilterClearBtn?(this.isFirefox()&&0===this.$filter.find(".multiselect-clear-filter").length&&this.$filter.append("<i class='fas fa-times text-muted multiselect-clear-filter multiselect-moz-clear-filter'></i>"),this.$filter.find(".multiselect-clear-filter").on("click",
b.proxy(function(a){clearTimeout(this.searchTimeout);this.query="";this.$filter.find(".multiselect-search").val("");b(".dropdown-item",this.$popupContainer).show().removeClass("multiselect-filter-hidden");this.updateSelectAll();this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups()},this))):(this.$filter.find(".multiselect-search").attr("type","text"),this.$filter.find(".multiselect-clear-filter").remove()),this.$popupContainer.prepend(this.$filter),this.$filter.val(this.query).on("click",
function(a){a.stopPropagation()}).on("input keydown",b.proxy(function(a){13===a.which&&a.preventDefault();this.isFirefox()&&this.options.includeFilterClearBtn&&(a.target.value?this.$filter.find(".multiselect-moz-clear-filter").show():this.$filter.find(".multiselect-moz-clear-filter").hide());clearTimeout(this.searchTimeout);this.searchTimeout=this.asyncFunction(b.proxy(function(){if(this.query!==a.target.value){this.query=a.target.value;var d,c;b.each(b(".multiselect-option, .multiselect-group",this.$popupContainer),
b.proxy(function(a,e){var f=0<b("input",e).length?b("input",e).val():"",h=b(".form-check-label",e).text();a="";"text"===this.options.filterBehavior?a=h:"value"===this.options.filterBehavior?a=f:"both"===this.options.filterBehavior&&(a=h+"\n"+f);f!==this.options.selectAllValue&&h&&(f=!1,this.options.enableCaseInsensitiveFiltering&&(a=a.toLowerCase(),this.query=this.query.toLowerCase()),this.options.enableFullValueFiltering&&"both"!==this.options.filterBehavior?(a=a.trim().substring(0,this.query.length),
-1<this.query.indexOf(a)&&(f=!0)):-1<a.indexOf(this.query)&&(f=!0),f||(b(e).css("display","none"),b(e).addClass("multiselect-filter-hidden")),f&&(b(e).css("display","block"),b(e).removeClass("multiselect-filter-hidden")),b(e).hasClass("multiselect-group")?(d=e,c=f):(f&&b(d).show().removeClass("multiselect-filter-hidden"),!f&&c&&b(e).show().removeClass("multiselect-filter-hidden")))},this))}this.updateSelectAll();this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups();
this.updatePopupPosition();this.options.onFiltering(a.target)},this),300,this)},this)))}},buildButtons:function(){if(this.options.enableResetButton){var a=b(this.options.templates.buttonGroup);this.$buttonGroupReset=b(this.options.templates.buttonGroupReset).text(this.options.resetButtonText);a.append(this.$buttonGroupReset);this.$popupContainer.prepend(a);this.defaultSelection={};b("option",this.$select).each(b.proxy(function(a,d){a=b(d);this.defaultSelection[a.val()]=a.prop("selected")},this));
this.$buttonGroupReset.on("click",b.proxy(function(a){b("option",this.$select).each(b.proxy(function(a,c){a=b(c);a.prop("selected",this.defaultSelection[a.val()])},this));this.refresh();this.options.enableFiltering&&(this.$filter.trigger("keydown"),b("input",this.$filter).val(""))},this))}},updatePopupPosition:function(){var a=this.$popupContainer.css("transform"),b=a.substring(0,a.indexOf("("));a=a.substring(a.indexOf("(")+1,a.length-1).split(",");var d=5;"matrix3d"===b&&(d=13);if(!(a.length<d)){var e=
a[d];e="undefined"===typeof e?0:e.trim();0>e&&(e=-1*this.$popupContainer.css("height").replace("px",""),a[d]=e,a=b+"("+a.join(",")+")",this.$popupContainer.css("transform",a))}},destroy:function(){this.$container.remove();this.$select.unwrap();this.$select.show();this.$select.prop("disabled",this.options.wasDisabled);this.$select.find("option, optgroup").removeAttr("data-multiselectid");this.$select.data("multiselect",null)},refresh:function(){var a={};b(".multiselect-option input",this.$popupContainer).each(function(){a[b(this).val()]=
b(this)});b("option",this.$select).each(b.proxy(function(c,d){c=b(d);d=a[b(d).val()];c.is(":selected")?(d.prop("checked",!0),this.options.selectedClass&&d.closest(".multiselect-option").addClass(this.options.selectedClass)):(d.prop("checked",!1),this.options.selectedClass&&d.closest(".multiselect-option").removeClass(this.options.selectedClass));c.is(":disabled")?d.attr("disabled","disabled").prop("disabled",!0).closest(".multiselect-option").addClass("disabled"):d.prop("disabled",!1).closest(".multiselect-option").removeClass("disabled")},
this));this.updateButtonText();this.updateSelectAll();this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups()},select:function(a,c){b.isArray(a)||(a=[a]);for(var d=0;d<a.length;d++){var e=a[d];if(null!==e&&void 0!==e&&(e=this.getInputsByValue(e))&&0!==e.length)for(var f=0;f<e.length;++f){var h=e[f],g=this.getOptionById(h.attr("id"));if(void 0!==g&&(this.options.selectedClass&&h.closest(".dropdown-item").addClass(this.options.selectedClass),h.prop("checked",!0),g.prop("selected",
!0),this.options.multiple||(h=b("input",this.$container).not(h),b(h).prop("checked",!1),b(h).closest(".multiselect-option").removeClass("active"),b("option",this.$select).not(g).prop("selected",!1)),c))this.options.onChange(g,!0)}}this.updateButtonText();this.updateSelectAll();this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups()},clearSelection:function(){this.deselectAll(!1);this.updateButtonText();this.updateSelectAll();this.options.enableClickableOptGroups&&this.options.multiple&&
this.updateOptGroups()},deselect:function(a,c){if(this.options.multiple){b.isArray(a)||(a=[a]);for(var d=0;d<a.length;d++){var e=a[d];if(null!==e&&void 0!==e&&(e=this.getInputsByValue(e))&&0!==e.length)for(var f=0;f<e.length;++f){var h=e[f],g=this.getOptionById(h.attr("id"));if(g&&(this.options.selectedClass&&h.closest(".dropdown-item").removeClass(this.options.selectedClass),h.prop("checked",!1),g.prop("selected",!1),c))this.options.onChange(g,!1)}}this.updateButtonText();this.updateSelectAll();
this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups()}},selectAll:function(a,c){if(this.options.multiple){var d=[];"undefined"===typeof a||a?(a=b(".multiselect-option:not(.disabled):not(.multiselect-filter-hidden)",this.$popupContainer),b("input:enabled",a).prop("checked",!0),a.addClass(this.options.selectedClass),b("input:enabled",a).each(b.proxy(function(a,c){a=b(c).attr("id");a=this.getOptionById(a);b(a).prop("selected")||d.push(a);b(a).prop("selected",!0)},this))):
(a=b(".multiselect-option:not(.disabled)",this.$popupContainer),b("input:enabled",a).prop("checked",!0),a.addClass(this.options.selectedClass),b("input:enabled",a).each(b.proxy(function(a,c){a=b(c).attr("id");a=this.getOptionById(a);b(a).prop("selected")||d.push(a);b(a).prop("selected",!0)},this)));b('.multiselect-option input[value="'+this.options.selectAllValue+'"]',this.$popupContainer).prop("checked",!0);this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups();this.updateButtonText();
this.updateSelectAll();if(c)this.options.onSelectAll(d)}},deselectAll:function(a,c){if(this.options.multiple){var d=[];"undefined"===typeof a||a?(a=b(".multiselect-option:not(.disabled):not(.multiselect-filter-hidden)",this.$popupContainer),b('input[type="checkbox"]:enabled',a).prop("checked",!1),a.removeClass(this.options.selectedClass),b('input[type="checkbox"]:enabled',a).each(b.proxy(function(a,c){a=b(c).attr("id");a=this.getOptionById(a);b(a).prop("selected")&&d.push(a);b(a).prop("selected",
!1)},this))):(a=b(".multiselect-option:not(.disabled):not(.multiselect-group)",this.$popupContainer),b('input[type="checkbox"]:enabled',a).prop("checked",!1),a.removeClass(this.options.selectedClass),b('input[type="checkbox"]:enabled',a).each(b.proxy(function(a,c){a=b(c).attr("id");a=this.getOptionById(a);b(a).prop("selected")&&d.push(a);b(a).prop("selected",!1)},this)));b('.multiselect-all input[value="'+this.options.selectAllValue+'"]',this.$popupContainer).prop("checked",!1);this.options.enableClickableOptGroups&&
this.options.multiple&&this.updateOptGroups();this.updateButtonText();this.updateSelectAll();if(c)this.options.onDeselectAll(d)}},rebuild:function(){this.internalIdCount=0;this.$popupContainer.html("");this.$select.find("option, optgroup").removeAttr("data-multiselectid");this.options.multiple="multiple"===this.$select.attr("multiple");this.buildSelectAll();this.buildDropdownOptions();this.buildFilter();this.buildButtons();this.updateButtonText();this.updateSelectAll(!0);this.options.enableClickableOptGroups&&
this.options.multiple&&this.updateOptGroups();this.options.disableIfEmpty&&(0>=b("option",this.$select).length?this.$select.prop("disabled")||this.disable(!0):this.$select.data("disabled-by-option")&&this.enable());this.options.dropRight?this.$container.addClass("dropright"):this.options.dropUp&&this.$container.addClass("dropup");"never"!==this.options.widthSynchronizationMode&&this.synchronizeButtonAndPopupWidth()},dataprovider:function(a){var c=0,d=this.$select.empty();b.each(a,function(a,f){if(b.isArray(f.children)){c++;
var e=b("<optgroup/>").attr({label:f.label||"Group "+c,disabled:!!f.disabled,value:f.value});k(f.children,function(a){var c={value:a.value,label:void 0!==a.label&&null!==a.label?a.label:a.value,title:a.title,selected:!!a.selected,disabled:!!a.disabled},d;for(d in a.attributes)c["data-"+d]=a.attributes[d];e.append(b("<option/>").attr(c))})}else{a={value:f.value,label:void 0!==f.label&&null!==f.label?f.label:f.value,title:f.title,"class":f["class"],selected:!!f.selected,disabled:!!f.disabled};for(var g in f.attributes)a["data-"+
g]=f.attributes[g];e=b("<option/>").attr(a);e.text(void 0!==f.label&&null!==f.label?f.label:f.value)}d.append(e)});this.rebuild()},enable:function(){this.$select.prop("disabled",!1);this.$button.prop("disabled",!1).removeClass("disabled");this.updateButtonText()},disable:function(a){this.$select.prop("disabled",!0);this.$button.prop("disabled",!0).addClass("disabled");a?this.$select.data("disabled-by-option",!0):this.$select.data("disabled-by-option",null);this.updateButtonText()},setOptions:function(a){this.options=
this.mergeOptions(a)},mergeOptions:function(a){return b.extend(!0,{},this.defaults,this.options,a)},hasSelectAll:function(){return 0<b(".multiselect-all",this.$popupContainer).length},updateOptGroups:function(){var a=b(".multiselect-group",this.$popupContainer),c=this.options.selectedClass;a.each(function(){var a=!0;b(this).nextUntil(".multiselect-group").not(".multiselect-filter-hidden").not(".disabled").each(function(){b("input",this).prop("checked")||(a=!1)});c&&(a?b(this).addClass(c):b(this).removeClass(c));
b("input",this).prop("checked",a)})},updateSelectAll:function(a){if(this.hasSelectAll()){var c=b(".multiselect-option:not(.multiselect-filter-hidden):not(.multiselect-group):not(.disabled) input:enabled",this.$popupContainer);a=c.length;c=c.filter(":checked").length;var d=b(".multiselect-all",this.$popupContainer),e=d.find("input");0<c&&c===a?(e.prop("checked",!0),d.addClass(this.options.selectedClass)):(e.prop("checked",!1),d.removeClass(this.options.selectedClass))}},updateButtonText:function(){var a=
this.getSelected();this.options.enableHTML?b(".multiselect .multiselect-selected-text",this.$container).html(this.options.buttonText(a,this.$select)):b(".multiselect .multiselect-selected-text",this.$container).text(this.options.buttonText(a,this.$select));b(".multiselect",this.$container).attr("title",this.options.buttonTitle(a,this.$select));this.$button.trigger("change")},getSelected:function(){return b("option",this.$select).filter(":selected")},getOptionById:function(a){return a?this.$select.find("option[data-multiselectid="+
a+"], optgroup[data-multiselectid="+a+"]"):null},getInputsByValue:function(a){var c=b(".multiselect-option input:not(.multiselect-search)",this.$popupContainer);a=a.toString();for(var d=[],e=0;e<c.length;e+=1){var f=c[e];f.value===a&&d.push(b(f))}return d},updateOriginalOptions:function(){this.originalOptions=this.$select.clone()[0].options},asyncFunction:function(a,b,d){var c=Array.prototype.slice.call(arguments,3);return setTimeout(function(){a.apply(d||window,c)},b)},setAllSelectedText:function(a){this.options.allSelectedText=
a;this.updateButtonText()},isFirefox:function(){return navigator&&navigator.userAgent?-1<navigator.userAgent.toLocaleLowerCase().indexOf("firefox"):!1},createAndApplyUniqueId:function(a){var b="multiselect_"+this.multiselectId+"_"+this.internalIdCount++;a&&(a[0].dataset.multiselectid=b);return b},generateUniqueId:function(){return Math.random().toString(36).substr(2)}};b.fn.multiselect=function(a,c,d){return this.each(function(){var e=b(this).data("multiselect"),f="object"===typeof a&&a;e||(e=new l(this,
f));if("string"===typeof a)e[a](c,d)})};b.fn.multiselect.Constructor=l;b(function(){b("select[data-role=multiselect]").multiselect()})});
